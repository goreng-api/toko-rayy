<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>Selamat Datang ke RAYY SETTING 7 - RS7</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="data/style.css">
</head>
<body>
  <div id="toast-notification" class="toast-notification"></div>

  <div class="multifunction-fab" id="multifunctionFab">
      <i class="fas fa-plus main-fab-icon"></i>
      <div class="fab-options" id="fabOptions">
          <div class="fab-option" id="themeSwitchBtn" data-tooltip="Tukar Tema"><i class="fas fa-sun"></i></div>
          <div class="fab-option" id="openMusicPopupBtn" data-tooltip="Tukar Muzik"><i class="fas fa-music"></i></div>
          <div class="fab-option" id="linktreeBtn" data-tooltip="Media Sosial"><i class="fas fa-link"></i></div>
          <div class="fab-option" id="muteAudioBtn" data-tooltip="Senyap/Nyahsenyap"><i class="fas fa-volume-up"></i></div>
      </div>
  </div>

  <div class="overlay" id="musicPlayerOverlay"></div>
  <div class="music-player-modal" id="musicPlayerPopup">
      <div class="music-player-header">
          <h4>Tukar Muzik Latar</h4>
          <i class="fas fa-times" id="closeMusicPlayer"></i>
      </div>
      <div class="music-player-body">
          <p>Tampal pautan dari YouTube:</p>
          <input type="text" id="mediaLinkInput" placeholder="https://www.youtube.com/watch?v=...">
          <button id="loadMediaBtn">Mainkan Muzik</button>
          <div class="media-player-container" id="mediaPlayerContainer"></div>
      </div>
  </div>

  <div id="welcomeScreen">
      <div class="logo-wrapper"><img src="logo.jpg" alt="Rikishopreal Logo"></div>
      <h1 class="welcome-title">Selamat Datang ke <span>RAYY SETTING 7 - RS7</span><p>Platform perkhidmatan gaming terbaik</p></h1>
      <p id="recoText">ðŸ”„ memuatkan</p>
      <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
      <div id="progress-text">0%</div>
  </div>

<div class="offcanvas-menu" id="offcanvasMenu">
    <div class="menu-header">
        <span>Menu RAYY SETTING 7 - RS7</span>
        <i class="fas fa-times close-btn" id="closeMenu"></i>
    </div>
    <ul>
        <li><a href="#" data-page="home-page"><i class="fas fa-home"></i> Laman Utama</a></li>
        <li><a href="#" id="openAboutUsModal"><i class="fas fa-info-circle"></i> Tentang Kami</a></li>
        <li><a href="#" id="openChatAiModal"><i class="fas fa-robot"></i> Pembantu AI</a></li>
        <li class="menu-section-title">Fungsi & Alatan</li>
        <li><a href="tourl.html" target="_blank"><i class="fas fa-link"></i> Tukar Gambar ke Pautan</a></li>
        <li><a href="remini.html" target="_blank"><i class="fas fa-image"></i> Gambar HD</a></li>
        <li><a href="tiktok.html" target="_blank"><i class="fab fa-tiktok"></i> Pemuat Turun TikTok</a></li>
        <li class="menu-section-title">Info & Bantuan</li>
        <li><a href="admin.html" target="_blank"><i class="fas fa-cogs"></i> Halaman Admin</a></li>
        <li><a href="#" data-page="chat-seller-page"><i class="fas fa-comment-dots"></i> Chat Penjual</a></li>
        <li><a href="#" data-page="hubungi-kami-page"><i class="fas fa-headset"></i> Hubungi Kami</a></li>
    </ul>
</div>

    <div class="overlay" id="overlay"></div>

    <div id="aboutUsModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeAboutUsModal">Ã—</span>
            <h3>Mengapa Memilih RAYY SETTING 7 - RS7?</h3>
<p>Kami menyediakan perkhidmatan gaming yang terbaik dan paling komprehensif untuk memenuhi keperluan anda. Dengan harga yang berpatutan dan sokongan pelanggan 24/7.
        </div>
    </div>

    <div id="chatAiModal" class="modal">
        <div class="modal-content modal-chat-ai">
             <div class="modal-header">
                <h3>Rayy AI</h3>
                <span class="close-button" id="closeChatAiModal">Ã—</span>
            </div>
            <div class="chat-interface">
                <div class="chat-messages" id="chatAiMessagesPage">
                    <div class="message ai-message">Helo! Saya Rayy AI. Ada apa yang boleh saya bantu?</div>
                </div>
                <div id="chatAiLoadingPage" class="chat-loading" style="display: none;"><div class="spinner"></div> AI sedang memproses...</div>
                <div class="chat-input-area">
                    <textarea id="chatAiInputPage" placeholder="Taip soalan anda di sini..." rows="1"></textarea>
                    <button id="sendChatAiBtnPage" aria-label="Hantar Mesej"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z" fill="currentColor" /></svg></button>
                </div>
            </div>
        </div>
    </div>

    <div id="genericScriptMenuModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeGenericScriptMenuModal">Ã—</span>
            <h3 id="genericScriptMenuTitle">Menu Skrip</h3>
            <div id="genericScriptMenuContent" class="script-menu-display"></div>
        </div>
    </div>

    <div id="imageLightbox" class="lightbox">
        <span class="lightbox-close">&times;</span>
        <img class="lightbox-content" id="lightboxImage">
        <div id="lightboxActions" class="lightbox-actions" style="display: none;">
            <button id="lightboxSelectBtn">
                <i class="fas fa-check-circle"></i> <span>Pilih Gambar Ini</span>
            </button>
        </div>
    </div>

    <div class="container" id="mainContainer">
        <header class="main-app-header">
            <i class="fas fa-bars menu-icon" id="openMenu"></i>
            <span class="app-title">Selamat Datang ke RAYY SETTING 7 - RS7</span>
            <div class="cart-icon" id="openCart">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count" id="cartCount">0</span>
            </div>
        </header>

        <main class="page-content active" id="home-page">
            <div class="info-bar">
                <div class="date-time" id="currentDateTime"></div>
                <div class="visitor-count" id="visitorCountDisplay">
                    <div class="visitor-pic-wrapper"><img src="logo.jpg" alt="Pengunjung"></div>
                    <span class="count">0</span>
                </div>
            </div>
            <div class="main-content">
              <div class="banner-carousel-container">
                  <div class="banner-carousel" id="bannerCarousel">
                    <div class="banner-item" style="background-image: url('https://img1.pixhost.to/images/9263/648900773_by-rikishopreal.jpg');"></div>
                  </div>
                  <div class="banner-pagination" id="bannerPagination"></div>
              </div>
              <h3>Perkhidmatan Kami</h3>
              <div class="service-grid" id="serviceGrid"></div>

              <h3>Komuniti Kami</h3>
              <div class="community-links">
              <a href="https://wa.me/601173686870" target="_blank" class="community-link-item">
                      <i class="fab fa-whatsapp"></i>
                      <span>NOMBOR UTAMA</span>
                      <i class="fas fa-chevron-right"></i>
                  </a>
                  <a href="https://wa.me/60175887357" target="_blank" class="community-link-item">
                      <i class="fab fa-whatsapp"></i>
                      <span>NOMBOR KEDUA</span>
                      <i class="fas fa-chevron-right"></i>
                  </a>
                  <a href="https://chat.whatsapp.com/BojXBO64zsbI4entCNSbNO" target="_blank" class="community-link-item">
                      <i class="fab fa-whatsapp"></i>
                      <span>GROUP FILE V1</span>
                      <i class="fas fa-chevron-right"></i>
                  </a>
                  <a href="https://chat.whatsapp.com/Bq4CwsN1N3e9DNyQzOnWze" target="_blank" class="community-link-item">
                      <i class="fab fa-whatsapp"></i>
                      <span>GROUP FILE V2</span>
                      <i class="fas fa-chevron-right"></i>
                  </a>
                  <a href="https://whatsapp.com/channel/0029VbAVfx15vKAA3VX6hf2u" target="_blank" class="community-link-item">
                      <i class="fas fa-users"></i>
                      <span>CHANNEL FEEDBACK CUSTOMER</span>
                      <i class="fas fa-chevron-right"></i>
                  </a>
              </div>
              </div>
        </main>

        <div class="page-content" id="service-detail-page">
            <h2><i class="fas fa-arrow-left back-arrow" data-back-to="home-page"></i> <span id="serviceDetailPageTitle"></span></h2>
            <div class="product-list" id="productList"></div>
            <div id="productDetailView" style="display: none;">
                <div class="product-detail">
                    <h3 id="detailProductName"></h3>
                    <div id="stockImageSliderContainer" class="image-slider-container" style="display: none;">
                        <div class="image-slider-wrapper"><div id="stockImageSlider" class="image-slider"></div></div>
                        <button class="slider-nav prev" id="sliderPrevBtn">&#10094;</button>
                        <button class="slider-nav next" id="sliderNextBtn">&#10095;</button>
                    </div>
                    <div id="countdownTimer" class="countdown-timer" style="display: none;">
                        <span class="timer-title">Diskaun Berakhir Dalam</span>
                        <div id="countdown-display"></div>
                    </div>
                    <div id="detailProductDescriptionContent"></div>
                    <div class="price-display" id="detailProductPrice"></div>
                    
                    <button id="showProductPromoPopupBtn" class="promo-popup-trigger">
                        <i class="fas fa-tag"></i> Punya Kod Promo?
                    </button>

                    <div class="actions" id="detailProductActions"></div>
                </div>
            </div>
        </div>

        <div class="page-content" id="cart-page">
            <h2><i class="fas fa-arrow-left back-arrow" data-back-to="home-page"></i> Troli Beli-Belah</h2>
            <div id="cartItems"></div>
            <div id="cartEmptyMessage" style="display: none; text-align: center; padding: 40px 20px; color: var(--light-text-color);">
                <i class="fas fa-shopping-cart" style="font-size: 3em; margin-bottom: 15px;"></i>
                <p>Troli anda masih kosong.</p>
            </div>
            
            <div id="cartPromoContainer" style="display: none; padding: 0 15px; margin-top: 15px;">
                 <button id="showCartPromoPopupBtn" class="promo-popup-trigger">
                    <i class="fas fa-tag"></i> Gunakan Kod Promo
                </button>
            </div>
            
            <div class="cart-summary">
                <span>Jumlah:</span>
                <span id="cartTotal">RM 0</span>
            </div>
            <button class="checkout-button" id="checkoutButton">Pesan melalui WhatsApp</button>
        </div>

        <div class="page-content" id="chat-seller-page">
             <h2><i class="fas fa-arrow-left back-arrow" data-back-to="home-page"></i> Chat Penjual</h2>
            <p style="text-align: center; padding: 20px;">Klik butang di bawah untuk chat terus dengan penjual.</p>
            <div style="text-align: center;"><button class="checkout-button" onclick="window.open('https://wa.me/601173686870', '_blank');">Chat WhatsApp Penjual</button></div>
        </div>
        <div class="page-content" id="hubungi-kami-page">
            <h2><i class="fas fa-arrow-left back-arrow" data-back-to="home-page"></i> Hubungi Kami</h2>
            <p style="text-align: center; padding: 20px;">Maklumat hubungan kami.</p>
            <div style="text-align: center; margin-bottom: 30px;"><button class="checkout-button" onclick="window.open('https://wa.me/601173686870', '_blank');">Hubungi Admin melalui WhatsApp</button></div>
        </div>
    </div>

    <div class="overlay" id="promoOverlay"></div>
    <div class="bottom-sheet" id="promoBottomSheet">
        <div class="bottom-sheet-header">
            <div class="drag-handle"></div>
            <h4>Masukkan Kod Promo</h4>
            <button class="close-sheet-btn" id="closePromoSheetBtn">&times;</button>
        </div>
        <div class="bottom-sheet-content">
            <div class="promo-input-group">
                <input type="text" id="promoInput" placeholder="Taip kod anda di sini...">
                <button id="promoApplyBtn">Guna</button>
            </div>
            <p id="promoFeedback"></p>
        </div>
    </div>
    
    <div id="customAlertModal" class="alert-modal-overlay" style="display: none;">
        <div class="alert-modal-box">
            <h3 id="alertTitle" class="alert-title"></h3>
            <p id="alertMessage" class="alert-message"></p>
            <button id="alertCloseBtn" class="alert-close-btn">OK</button>
        </div>
    </div>
    
    <div id="promoConfirmModal" class="alert-modal-overlay" style="display: none;">
        <div class="alert-modal-box">
            <h3 id="promoConfirmTitle" class="alert-title"></h3>
            <p id="promoConfirmMessage" class="alert-message"></p>
            <div class="promo-confirm-actions">
                <button id="promoConfirmCancelBtn" class="promo-confirm-btn cancel">Batal</button>
                <button id="promoConfirmOkBtn" class="promo-confirm-btn ok">Guna</button>
            </div>
        </div>
    </div>

<div id="qrLightbox" class="lightbox">
    <span class="lightbox-close" id="closeQrLightbox">&times;</span>
    <img class="lightbox-content" id="zoomedQrImage">
</div>

<div id="paymentModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Arahan Pembayaran</h3>
            <span class="close-button" id="closePaymentModal">Ã—</span>
        </div>
        <div style="padding: 20px;">
            <p style="text-align: center; font-size: 0.9em; color: var(--light-text-color);">
                Sila ss QR dan scan QR tersebut untuk melakukan pembayaran.<br>(Klik QR untuk zoom)
            </p>
            
            <div style="text-align: center; margin: 15px 0;">
                <img src="qr-code.png" alt="QR Code Pembayaran" id="qrImage" style="width: 200px; height: 200px; cursor: zoom-in; border: 1px solid var(--border-color);">
            </div>
            
            <p style="text-align: center; font-weight: bold;">
                Jumlah Perlu Dibayar: <span id="paymentAmount">RM 0</span>
            </p>
            
            <button class="checkout-button" id="openProofFormBtn" style="margin-top: 15px;">
                <i class="fas fa-upload"></i> Hantar Bukti Pembayaran
            </button>
        </div>
    </div>
</div>

<div id="proofModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Hantar Bukti Pembayaran</h3>
            <span class="close-button" id="closeProofModal">Ã—</span>
        </div>
        <div style="padding: 20px;">
            <p style="color: var(--light-text-color); font-size: 0.9em; margin-bottom: 15px;">
                Sila isi maklumat anda untuk kami hubungi.
            </p>
            
            <form id="proofForm">
                <div class="form-group">
                    <label for="nama_pelanggan">Nama Penuh Anda</label>
                    <input type="text" id="nama_pelanggan" name="nama_pelanggan" placeholder="Nama anda seperti di resit..." required>
                </div>

                <div class="form-group">
                    <label for="file_bukti">Muat Naik Bukti Pembayaran (Imej)</label>
                    <input type="file" id="file_bukti" name="file_bukti" accept="image/png, image/jpeg, image/jpg" required>
                </div>
                
                <button type="submit" class="checkout-button" id="submitProofBtn" style="margin-top: 15px;">
                    <span class="btn-text">Hantar</span>
                    <div class="spinner" style="display: none;"></div>
                </button>
            </form>
        </div>
    </div>
</div>


<audio id="background-audio" src="music.mp3" loop></audio>

<script type="module">
    // Script Firebase tidak berubah
    const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
    const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
    if (Object.keys(firebaseConfig).length > 0) {
        try {
            const { initializeApp } = await import("https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js");
            const { getAuth, signInAnonymously, signInWithCustomToken } = await import("https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js");
            const { getFirestore, doc, runTransaction, onSnapshot, serverTimestamp } = await import("https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js");
            const app = initializeApp(firebaseConfig);
            const auth = getAuth(app);
            const db = getFirestore(app);
            window.firebaseServices = { auth, db, doc, runTransaction, onSnapshot, serverTimestamp, signInAnonymously, signInWithCustomToken, initialAuthToken };
            document.dispatchEvent(new CustomEvent('firebaseReady'));
        } catch (e) {
            console.error("Gagal memuat Firebase SDK:", e);
            document.dispatchEvent(new CustomEvent('firebaseFailed'));
        }
    } else {
        console.warn("Konfigurasi Firebase tidak ditemukan.");
        document.dispatchEvent(new CustomEvent('firebaseFailed'));
    }
</script>
<script src="data/rikishop.js"></script>
</body>
</html>
